<html>
  <head> </head>
  <body>
    <h1>Rock, Paper, Scissors</h1>
    <script>
      let options = ["rock", "paper", "scissors"];
      let playerScore = 0,
        computerScore = 0,
        result;

      function getRandomInt(max) {
        return Math.floor(Math.random() * Math.floor(max));
      }

      function computerPlay() {
        let cSelection = options[getRandomInt(3)];
        return cSelection;
      }

      function playerPlay() {
        do {
          pSelection = prompt(
            "Type your choice of: rock, paper or scissors"
          ).toLowerCase();
        } while (options.includes(pSelection) == false);
        return pSelection;
      }

      function playRound(playerSelection, computerSelection) {
        playerSelection = playerPlay();
        computerSelection = computerPlay();

        if (playerSelection == computerSelection) {
          result = `It is a tie, you and the computer chose ${playerSelection}`;
        } else if (
          (playerSelection == "rock" && computerSelection == "scissors") ||
          (playerSelection == "paper" && computerSelection == "rock") ||
          (playerSelection == "scissors" && computerSelection == "paper")
        ) {
          playerScore += 1;
          result = `You win! ${playerSelection} beats ${computerSelection}`;
        } else {
          computerScore += 1;
          result = `You Lose! ${computerSelection} beats ${playerSelection}`;
        }
        return console.log(result);
      }

      function game() {
        let i = 0;
        let finalresult;
        while (i < 5) {
          playRound();
          i++;
        }
        if (playerScore == computerScore) {
          finalresult = `I can't believe it, It's a Tie!`;
        } else if (playerScore > computerScore) {
          finalresult = `Well done, You win!`;
        } else {
          finalresult = `Better luck next time, You lose!`;
        }
        return finalresult;
      }

      console.log(game());
      console.log(`Player score:${playerScore}`);
      console.log(`Computer score:${computerScore}`);
    </script>
  </body>
</html>
